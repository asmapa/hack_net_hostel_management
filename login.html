<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hostel Allocation - Login</title>
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Font Awesome for social icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-dRhmAkl+Zl3Q+GmFD9J+kmf/F9e3J+J61y2m0sikBuqz+Ge8j7lo4RMK5iBr+8CEV1AEpE1OYqD58s5hWvhQQg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    body {
      background: url('https://images.unsplash.com/photo-1503264116251-35a269479413?auto=format&fit=crop&w=1950&q=80') no-repeat center center fixed;
      background-size: cover;
    }

    .glass {
      backdrop-filter: blur(16px) saturate(180%);
      -webkit-backdrop-filter: blur(16px) saturate(180%);
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 1rem;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
  </style>
</head>

<body class="min-h-screen flex items-center justify-center text-white">
  <div class="glass max-w-md w-full p-8 shadow-lg">
    <div class="flex justify-between mb-6">
      <span class="text-lg font-semibold border-b-2 border-white">Login</span>
      <a href="signup.html" class="text-lg font-semibold text-gray-200 hover:text-white">Sign Up</a>
    </div>

    <!-- Login Form -->
    <form id="loginForm" class="space-y-4" onsubmit="return validateForm()">
      <div>
        <label class="block mb-1">Email</label>
        <input id="email" type="email" placeholder="Enter Email" required
          class="w-full px-4 py-2 rounded-lg bg-white/20 text-white placeholder-white focus:outline-none focus:ring-2 focus:ring-white" />
      </div>

      <div>
        <label class="block mb-1">Password</label>
        <input id="password" type="password" placeholder="Enter Password" required
          class="w-full px-4 py-2 rounded-lg bg-white/20 text-white placeholder-white focus:outline-none focus:ring-2 focus:ring-white" />
      </div>

      <div class="text-sm text-right">
        <a href="forgot-password.html" class="text-sm text-white hover:underline">Forgot Password?</a>
      </div>

      <button type="submit"
        class="w-full bg-white text-blue-600 font-semibold py-2 rounded-lg hover:bg-blue-100 transition">
        LOGIN
      </button>

      <!-- Social Icons -->
      <div class="text-center mt-6">
        
        <div class="flex justify-center gap-4 mt-2 text-white text-xl">
          <a href="#" title="Login with Google"><i class="fab fa-google hover:text-red-400"></i></a>
          <a href="#" title="Login with Facebook"><i class="fab fa-facebook-f hover:text-blue-500"></i></a>
          <a href="#" title="Login with Twitter"><i class="fab fa-twitter hover:text-sky-400"></i></a>
        </div>
      </div>
    </form>
  </div>

  <script>
  async function validateForm(event) {
    event.preventDefault(); // Stop default form submission

    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    if (!email || !password) {
      alert("üö® Please enter both email and password!");
      return false;
    }

    try {
      const response = await fetch("http://localhost:3000/student/loginCheck", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ email, password })
      });

      const data = await response.json();

      if (response.ok) {
        alert("‚úÖ Login successful! Welcome back, " + data.student.name + " ü•≥");
        window.location.href = "student/student_dashboard.html";
      } else {
        alert("‚ùå Login failed: " + data.message);
      }
    } catch (error) {
      console.error("Error during login:", error);
      alert("üòµ Oops! Server not responding or something went wrong.");
    }

    return false;
  }

  document.getElementById("loginForm").addEventListener("submit", validateForm);
</script>


</body>

</html>
